---
title: è¿œç¨‹æ–‡ä»¶ä¼ è¾“
subtitle: å€ŸåŠ©scpæˆ–rsync
date: 2021-07-13 12:26:00
lang: zh
author: Ricky Yel
show_edit_on_github: true
tags: zsh terminal
show_tags: true

---



# scp

## å‡†å¤‡å¾…å¤åˆ¶çš„ç›®å½•

1.

```bash
$ find /home/tsing87/onpolicy/onpolicy/scripts/results/Human/simple_human/rmappo -type d -name "ortho*" | xargs -I 'dir' echo dir 
```

è¿™æ ·å°±å¯ä»¥å°†æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ç›®å½•æ‰“å°å‡ºæ¥ï¼Œç›´æ¥æ‹·è´åˆ°æœ¬æœº`txt`æ–‡ä»¶ï¼Œæ¯”å¦‚`prepare.txt`æ–‡ä»¶ä¸­

å¦‚æœæƒ³è¦ç›´æ¥æŠŠè¾“å‡ºå†™å…¥åˆ°æ–‡ä»¶å½“ä¸­ğŸ‘‡

```bash
$ find /home/tsing87/onpolicy/onpolicy/scripts/results/Human/simple_human/rmappo -type d -name "fixed_GCR_predator3_prey1_RR0_NG0.5_DisAlpha*_view0.5_NL*" | xargs -I 'dir' echo dir > /home/tsing87/prepare.txt
```

2.

## æ‹·è´(scp)åˆ°æœ¬æœº

```bash
$ cat prepare.txt | xargs -I 'dir' scp -r tsing87@10.20.101.28:dir /Users/huangruixin/Desktop/Master/Projects/onpolicy_appendix/onpolicy_render/predator1_prey1_RR0_NG0.5_DisAlpha_view0.5_NL
```

## ä½¿ç”¨rsyncä»£æ›¿scp

```bash
$ cat prepare.txt | xargs -I 'dir' rsync -av --exclude={'*.log','latest-run','logs','code','*.patch','tmp','*.json','*.txt','*.yaml','*.wandb','critic.pt'} tsing87@10.20.101.39:dir /Users/huangruixin/Desktop/Master/Projects/onpolicy_appendix/onpolicy_render/ortho
```

å¥½å¤„ï¼šå¯ä»¥æ’é™¤æ‰`.log`è¿™ç§åˆå¤§åˆç”¨ä¸ä¸Šçš„æ–‡ä»¶ï¼Œ`--exclude`å¯ä»¥å¤šæ¬¡ä½¿ç”¨ğŸ‘†ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨`--include`

# mv(è¿˜æ˜¯æ²¡è§£å†³ï¼Œå¦‚ä½•æ‰èƒ½æ¯ä¸ªæ–‡ä»¶åœ¨å…¶å¯¹åº”çš„ç›®å½•é‡Œä¸Šç§»nçº§)

```bash
$ find /Users/huangruixin/Desktop/Master/Projects/onpolicy_appendix/onpolicy_render/predator1_prey1_RR0_NG0.5_DisAlpha_view0.5_NL -type f -name "actor.pt"| xargs -I 'file' mv file ../../..
```

# ä¾‹å­ï¼šsshåˆ°æˆ‘çš„å°å¼æœº

## prepareï¼šåœ¨å°å¼æœºå¼€å¯opensshæœåŠ¡

opensshæœåŠ¡å¦‚ä½•å¼€å¯ã€å…³é—­ã€æŸ¥çœ‹å…¶çŠ¶æ€ï¼Œ[ç‚¹è¿™](https://blog.csdn.net/baidu_34884208/article/details/89376795)

1. å®‰è£…openssh-server

   ```bash
   sudo apt-get install openssh-server
   ```

2. æ‰“å¼€opensshæœåŠ¡

   ```bash
   service sshd start
   ```

<font color =red>âš ï¸ä¸åŒç½‘æ®µè¦å…ˆsshåˆ°æœºå™¨ä¸Šå»</font>

## èŒƒå¼

```bash
rsync -av username@ip:source destination
```

### è·å–username

```bash
whoami
```

### è·å–ip

```bash
ifconfig -a
```

### å®ä¾‹

```bash
rsync -av --exclude={'*.log','latest-run','logs','code','*.patch','tmp','*.json','*.txt','*.yaml','*.wandb','critic.pt'} huangruixin@172.16.0.233:/home/huangruixin/clash /Users/huangruixin/Desktop
```

